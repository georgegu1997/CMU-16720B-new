\documentclass[11pt]{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}

\topmargin -.5in
\textheight 9in
\oddsidemargin -.25in
\evensidemargin -.25in
\textwidth 7in

\newcommand{\code}[1]{\texttt{#1}}

\begin{document}

\author{Gu, Qiao}
\title{16-720B Homework 4 Write-up}
\maketitle

\medskip

\subsection*{Q1.1}

\newcommand{\intrinsic}{\mathbf{K}}
\newcommand{\fundamental}{\mathbf{F}}
\newcommand{\essential}{\mathbf{E}}
\newcommand{\homox}{\tilde{\mathbf{x}}}

Consider the point $\mathbf{w}$ where the principle axes of the two cameras intersect, and we can see that $\homox_1=[0,0,1]^T$ and $\homox_2=[0,0,1]^T$ corresponding one point in 3D. Therefore

\begin{align}
    \homox_2^T \essential \homox_1 =
    \begin{bmatrix}
        0 & 0 & 1
    \end{bmatrix}
    \begin{bmatrix}
        \essential_{11} & \essential_{12} & \essential_{13} \\
        \essential_{21} & \essential_{22} & \essential_{23} \\
        \essential_{31} & \essential_{32} & \essential_{33}
    \end{bmatrix}
    \begin{bmatrix}
        0 \\ 0 \\ 1
    \end{bmatrix}
    = \essential_{33} = 0
\end{align}

Since two cameras are normalized, the intrinsic matrices for them are identity:  $\intrinsic_1=\intrinsic_2=\mathbf{I}$.
Then $\essential = \intrinsic_1^T \fundamental \intrinsic_2 = \essential$.
Therefore, $\essential_{33} = \fundamental_{33}=0$.

% Suppose the intrinsic matrix for two cameras are
%
% \begin{align}
%     \intrinsic_1 =
%     \begin{bmatrix}
%         f_{1x} & \gamma_1 & 0 \\
%         0 & f_{1y} & 0 \\
%         0 & 0 & 1
%     \end{bmatrix}
%     \quad
%     \intrinsic_2 =
%     \begin{bmatrix}
%         f_{2x} & \gamma_2 & 0 \\
%         0 & f_{2y} & 0 \\
%         0 & 0 & 1
%     \end{bmatrix}
% \end{align}

% \begin{align}
%     \essential = \intrinsic_1^T \fundamental \intrinsic_2 &=
%     \begin{bmatrix}
%         f_{1x} & 0 & 0 \\
%         \gamma_1 & f_{1y} & 0 \\
%         0 & 0 & 1
%     \end{bmatrix}
%     \begin{bmatrix}
%         \fundamental_{11} & \fundamental_{12} & \fundamental_{13} \\
%         \fundamental_{21} & \fundamental_{22} & \fundamental_{23} \\
%         \fundamental_{31} & \fundamental_{32} & \fundamental_{33}
%     \end{bmatrix}
%     \begin{bmatrix}
%         f_{2x} & \gamma_2 & 0 \\
%         0 & f_{2y} & 0 \\
%         0 & 0 & 1
%     \end{bmatrix}
%     \\
%     &= \begin{bmatrix}
%         f_{1x} & 0 & 0 \\
%         \gamma_1 & f_{1y} & 0 \\
%         0 & 0 & 1
%     \end{bmatrix}
%     \begin{bmatrix}
%         \dots & \dots & \fundamental_{13} \\
%         \dots & \dots & \fundamental_{23} \\
%         \dots & \dots & \fundamental_{33} \\
%     \end{bmatrix}
%     =
%     \begin{bmatrix}
%         \dots & \dots & \dots \\
%         \dots & \dots & \dots \\
%         \dots & \dots & \fundamental_{33} \\
%     \end{bmatrix}
% \end{align}

\newpage

\subsection*{Q1.2}

\newcommand {\rotation} {\mathbf{R}}
\newcommand {\translation} {\mathbf{t}}

Suppose the cameras are normalized in the sense that their intrinsic matrices are both identity.
Now that the translation and rotation from camera 1 to camera 2 are

\begin{align}
    \rotation =
    \begin{bmatrix}
        1 & 0 & 0 \\
        0 & 1 & 0 \\
        0 & 0 & 1
    \end{bmatrix}, \quad
    \translation =
    \begin{bmatrix}
        t_x \\ 0 \\ 0
    \end{bmatrix}
\end{align}

According to the dfinition of essential matrix

\begin{align}
    \homox_2^T \translation \times \rotation \homox_1 &=
    \homox_2^T \translation_\times \rotation \homox_1 =
    \homox_2^T
    \begin{bmatrix}
        0 & 0 & 0 \\
        0 & 0 & -t_x \\
        0 & t_x & 0 \\
    \end{bmatrix}
    \begin{bmatrix}
        1 & 0 & 0 \\
        0 & 1 & 0 \\
        0 & 0 & 1
    \end{bmatrix}
    \homox_1
    \\ &=
    \homox_2^T
    \begin{bmatrix}
        0 & 0 & 0 \\
        0 & 0 & -t_x \\
        0 & t_x & 0 \\
    \end{bmatrix}
    \homox_1 =
    \begin{bmatrix}
        x_2 & y_2 & 1
    \end{bmatrix}
    \begin{bmatrix}
        0 \\ -t_x \\ t_x y_1
    \end{bmatrix}
    \\ &=
    -t_x y_2 + t_x y_1 = 0
    \\ & \Rightarrow
    y_1 = y_2
\end{align}

For a certain epipolar line in camera 2, it has a fixed epipole with fixed $y_1$ in camera 1, and thus every 3D point on the corresponding incident ray to camera 1 has a projection with a fixed $y_2=y_1$ in camera 2, which means the epipolar line has a fixed $y$ coordinate, and thus parallel to x-axis.

The above deduction also holds if camera 1 and 2 are exchanged.

\newpage

\subsection*{Q1.3}

\newcommand{\pointw}{\mathbf{w}}

Assume $(\rotation_i, \translation_i)$ and $(\rotation_i, \translation_i)$ are the rotation and translation at time $i$ and time $j$. Then for a point $\pointw$ in the 3D world

\begin{align}
    & \lambda_i \homox_i = \rotation_i \pointw + \translation_i, \quad
    \lambda_j \homox_j = \rotation_j \pointw + \translation_j
    \nonumber \\ \Rightarrow &
    \pointw = \rotation_i ^T (\lambda_i \homox_i - \translation_i)
    \nonumber \\ \Rightarrow &
    \lambda_j \homox_j = \rotation_j \rotation_i ^T (\lambda_i \homox_i - \translation_i) + \translation_j
    \nonumber \\ \Rightarrow &
    \lambda_j \homox_j = \rotation_j \rotation_i ^T \lambda_i \homox_i - \rotation_j \rotation_i ^T \translation_i + \translation_j
    \nonumber \\ \Rightarrow &
    \lambda_j \homox_j = \lambda_i \rotation_{rel} \homox_i + \translation_{rel}
\end{align}

Therefore

\begin{align}
    \rotation_{rel} = \rotation_j \rotation_i ^T, \quad
    \translation_{rel} = \translation_j - \rotation_j \rotation_i ^T \translation_i
\end{align}

\newpage

\subsection*{Q1.4}





\end{document}
